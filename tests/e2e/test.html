<!DOCTYPE html>
<html>
<head>
    <title>Test e2e angular-typeaheadjs</title>
    <style>
        body {
            font-size: 14px;
        }

        body div {
            margin: 15px auto;
        }

        /* typeahead.js styles*/

        .typeahead,
        .tt-query,
        .tt-hint {
            width: 150px;
            height: 15px;
            padding: 4px 4px;
            font-size: 12px;
            line-height: 15px;
            border: 2px solid #ccc;
            -webkit-border-radius: 8px;
            -moz-border-radius: 8px;
            border-radius: 8px;
            outline: none;
        }

        .typeahead {
            background-color: #fff;
        }

        .typeahead:focus {
            border: 2px solid #0097cf;
        }

        .tt-query {
            -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
            -moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
            box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
        }

        .tt-hint {
            color: #999
        }

        .tt-menu {
            width: 222px;
            margin: 6px 0;
            padding: 4px 0;
            background-color: #fff;
            border: 1px solid #ccc;
            border: 1px solid rgba(0, 0, 0, 0.2);
            -webkit-border-radius: 8px;
            -moz-border-radius: 8px;
            border-radius: 8px;
            -webkit-box-shadow: 0 5px 10px rgba(0, 0, 0, .2);
            -moz-box-shadow: 0 5px 10px rgba(0, 0, 0, .2);
            box-shadow: 0 5px 10px rgba(0, 0, 0, .2);
        }

        .tt-suggestion {
            padding: 3px 20px;
            font-size: 12px;
            line-height: 12px;
        }

        .tt-suggestion:hover {
            cursor: pointer;
            color: #fff;
            background-color: #0097cf;
        }

        .tt-suggestion.tt-cursor {
            color: #fff;
            background-color: #0097cf;

        }

        .tt-suggestion p {
            margin: 0;
        }

    </style>
</head>

<body ng-app="myApp">


<div class="usecase1" ng-controller="UseCase1Controller as vm">
    Use case 1: [prefetch / remote / no options]:<br/>

    <angular-typeaheadjs angty-ttoptions="{{vm.ttOptions}}">
        <input class="typeahead" type="text" id="usecase1"/>
    </angular-typeaheadjs>

</div>
<div class="usecase2" ng-controller="UseCase2Controller as vm">
    Use case 2: [prefetch / remote / trigger all events on scope]:<br/>

    <angular-typeaheadjs angty-ttoptions="{{vm.ttOptions}}" angty-options="{{vm.options}}">
        <input class="typeahead" type="text" id="usecase2"/>
    </angular-typeaheadjs>

    <span class="trigger">{{vm.events.trigger}}</span>

</div>
<div class="usecase3" ng-controller="UseCase3Controller as vm">
    Use case 3: [prefetch / remote / emit scope emitOnlyIfPresent]:<br/>

    <angular-typeaheadjs angty-ttoptions="{{vm.ttOptions}}" angty-options="{{vm.options}}" angty-onselect angty-onautocomplete>
        <input class="typeahead" type="text" id="usecase3"/>
    </angular-typeaheadjs>

    <span class="trigger">{{vm.events.trigger}}</span>

</div>
<div class="usecase4" ng-controller="UseCase4Controller as vm">
    Use case 4: [prefetch / remote / events on scope - selectOnAutocomplete=true / clear=true]:<br/>

    <angular-typeaheadjs angty-ttoptions="{{vm.ttOptions}}" angty-options="{{vm.options}}" angty-onselect angty-onautocomplete>
        <input class="typeahead" type="text" id="usecase4"/>
    </angular-typeaheadjs>

    <span class="trigger">{{vm.events.trigger}}</span>

</div>

<div class="usecase5" ng-controller="UseCase5Controller as vm">
    Use case 5: [prefetch / remote / trigger all events callbacks]:<br/>

    <angular-typeaheadjs angty-ttoptions="{{vm.ttOptions}}" angty-options="{{vm.options}}"
                         angty-onactive="vm.onactive"
                         angty-onidle="vm.onidle"
                         angty-onopen="vm.onopen"
                         angty-onclose="vm.onclose"
                         angty-onchange="vm.onchange"
                         angty-onrender="vm.onrender"
                         angty-onselect="vm.onselect"
                         angty-onautocomplete="vm.onautocomplete"
                         angty-oncursorchange="vm.oncursorchange"
                         angty-onasyncrequest="vm.onasyncrequest"
                         angty-onasynccancel="vm.onasynccancel"
                         angty-onasyncreceive="vm.onasyncreceive">
        <input class="typeahead" type="text" id="usecase5"/>
    </angular-typeaheadjs>

    <span class="trigger">{{vm.events.trigger}}</span>

</div>
<div class="usecase6" ng-controller="UseCase6Controller as vm">
    Use case 6: [prefetch / remote / callback emitOnlyIfPresent]:<br/>

    <angular-typeaheadjs angty-ttoptions="{{vm.ttOptions}}" angty-options="{{vm.options}}"
                         angty-onselect="vm.onselect"
                         angty-onautocomplete="vm.onautocomplete">

        <input class="typeahead" type="text" id="usecase6"/>
    </angular-typeaheadjs>

    <span class="trigger">{{vm.events.trigger}}</span>

</div>

<div class="usecase7" ng-controller="UseCase7Controller as vm">
    Use case 7: [prefetch / remote / callback mixed emit scope emitOnlyIfPresent]:<br/>

    <angular-typeaheadjs angty-ttoptions="{{vm.ttOptions}}" angty-options="{{vm.options}}"
                         angty-onselect="vm.onselect"
                         angty-onautocomplete>

        <input class="typeahead" type="text" id="usecase7"/>
    </angular-typeaheadjs>

    <span class="trigger">{{vm.events.trigger}}</span>

</div>

<div class="usecase8" ng-controller="UseCase8Controller as vm">
    Use case 8: [prefetch / remote / callbacks - selectOnAutocomplete=true / clear=true]:<br/>

    <angular-typeaheadjs angty-ttoptions="{{vm.ttOptions}}" angty-options="{{vm.options}}"
                         angty-onselect="vm.onselect"
                         angty-onautocomplete="vm.onautocomplete">
        <input class="typeahead" type="text" id="usecase8"/>
    </angular-typeaheadjs>

    <span class="trigger">{{vm.events.trigger}}</span>

</div>

<div class="usecase9" ng-controller="UseCase9Controller as vm">
    Use case 9: [datasets / callbacks / useOwnDefaults = false]:<br/>

    <angular-typeaheadjs angty-ttdatasets="vm.ttDatasets" angty-options="{{vm.options}}"
                         angty-onselect="vm.onselect"
                         angty-onautocomplete="vm.onautocomplete">
        <input class="typeahead" type="text" id="usecase9"/>
    </angular-typeaheadjs>

    <span class="trigger">{{vm.events.trigger}}</span>

</div>

<div class="usecase10" ng-controller="UseCase10Controller as vm">
    Use case 10: [bhfunctions / prefetch / remote / callbacks - selectOnAutocomplete=true / clear=true]:<br/>

    <angular-typeaheadjs angty-bhfunctions="vm.bhFunctions" angty-ttoptions="{{vm.ttOptions}}" angty-options="{{vm.options}}"
                         angty-onselect="vm.onselect"
                         angty-onautocomplete="vm.onautocomplete">
        <input class="typeahead" type="text" id="usecase10"/>
    </angular-typeaheadjs>

    <span class="trigger">{{vm.events.trigger}}</span>

</div>

<div class="usecase11" ng-controller="UseCase11Controller as vm">
    Use case 11: [angtty:setval angtty:init / events / prefetch / remote / callbacks - selectOnAutocomplete=true / clear=true]:<br/>

    <angular-typeaheadjs angty-ttoptions="{{vm.ttOptions}}" angty-options="{{vm.options}}"
                         angty-onselect="vm.onselect"
                         angty-onautocomplete="vm.onautocomplete">
        <input class="typeahead" type="text" id="usecase11"/>
    </angular-typeaheadjs>

    <span class="trigger">{{vm.events.trigger}}</span>

</div>

<div class="usecase12" ng-controller="UseCase12Controller as vm">
    Use case 12: [prefetch / remote / handlers on before events]:<br/>

    <angular-typeaheadjs angty-ttoptions="{{vm.ttOptions}}" angty-options="{{vm.options}}"
                         angty-onbeforeidle="vm.onbeforeidle"
                         angty-onbeforeactive="vm.onbeforeactive"
                         angty-onbeforeopen="vm.onbeforeopen"
                         angty-onbeforeclose="vm.onbeforeclose"
                         angty-onbeforecursorchange="vm.onbeforecursorchange"
                         angty-onbeforeautocomplete="vm.onbeforeautocomplete"
                         angty-onbeforeselect="vm.onbeforeselect">

        <input class="typeahead" type="text" id="usecase12"/>
    </angular-typeaheadjs>

    <span class="trigger">{{vm.events.trigger}}</span>

</div>

<div class="usecase13" ng-controller="UseCase13Controller as vm">
    Use case 13: [prefetch / remote / same handlers on before events - setSameListenerEventBefore=true]:<br/>

    <angular-typeaheadjs angty-ttoptions="{{vm.ttOptions}}" angty-options="{{vm.options}}"
                         angty-onopen="vm.onopen">

        <input class="typeahead" type="text" id="usecase13"/>
    </angular-typeaheadjs>

    <span class="trigger">{{vm.events.trigger}}</span>

</div>

<input id="dummy" type="text" style="border:0px;"/>


<script src="../../bower_components/jquery/dist/jquery.min.js"></script>
<script src="../../bower_components/q/q.js"></script>
<script src="../../bower_components/angular/angular.min.js"></script>
<script src="../../bower_components/typeahead.js/dist/typeahead.bundle.min.js"></script>
<!--<script src="../../bower_components/typeahead.js/dist/typeahead.bundle.js"></script>-->
<script src="../../dist/angular-typeaheadjs.min.js"></script>
<!--<script src="../../src/angular-typeaheadjs.js"></script>-->
<script>

(function () {
    'use strict';
    angular.module('myApp', ['angularTypeaheadjs'])
            .controller('UseCase1Controller', [ '$scope', UseCase1Controller ])
            .controller('UseCase2Controller', [ '$scope', UseCase2Controller ])
            .controller('UseCase3Controller', [ '$scope', UseCase3Controller ])
            .controller('UseCase4Controller', [ '$scope', UseCase4Controller ])
            .controller('UseCase5Controller', [ '$scope', UseCase5Controller ])
            .controller('UseCase6Controller', [ '$scope', UseCase6Controller ])
            .controller('UseCase7Controller', [ '$scope', UseCase7Controller ])
            .controller('UseCase8Controller', [ '$scope', UseCase8Controller ])
            .controller('UseCase9Controller', [ '$scope', UseCase9Controller ])
            .controller('UseCase10Controller', [ '$scope', UseCase10Controller ])
            .controller('UseCase11Controller', [ '$scope', '$timeout', UseCase11Controller ])
            .controller('UseCase12Controller', [ '$scope', UseCase12Controller ])
            .controller('UseCase13Controller', [ '$scope', UseCase13Controller ]);
    function UseCase1Controller($scope) {
        var vm = this;
        vm.ttOptions = {
            prefetch: '/tests/assets/prefetch.json',
            remote: '/tests/assets/%QUERY.json'
        };
        //            vm.options = {
        //            };
    }

    function UseCase2Controller($scope) {
        var vm = this;
        vm.ttOptions = {
            prefetch: '/tests/assets/prefetch.json',
            remote: '/tests/assets/%QUERY.json'
        };
        vm.options = {
            emitOnlyIfPresent: false
        };
        vm.events = {
            names: ['active', 'idle', 'open', 'close', 'change', 'render', 'select', 'autocomplete', 'cursorchange', 'asyncrequest', 'asynccancel', 'asyncreceive'],
            trigger: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        };
        var argLog = function (name, arg) {
            //console.log(name, arg);
            ////console.log(arg[1] instanceof jQuery.Event);
        };
        vm.events.names.forEach(function (item, index) {
            $scope.$on('typeahead:' + item, function () {
                $scope.$apply(function () {
                    vm.events.trigger[index] = vm.events.trigger[index] + 1;
                });
                //                    if (index==7) {
                argLog(item, [].slice.call(arguments, 1)[0]);
                //                    }
            });
        });
    }

    function UseCase3Controller($scope) {
        var vm = this;
        vm.ttOptions = {
            prefetch: '/tests/assets/prefetch.json'/*,
                remote:'/tests/assets/%QUERY.json'*/
        };
        vm.options = {
            clear: false
        };
        vm.events = {
            names: ['active', 'idle', 'open', 'close', 'change', 'render', 'select', 'autocomplete', 'cursorchange', 'asyncrequest', 'asynccancel', 'asyncreceive'],
            trigger: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        };
        vm.events.names.forEach(function (item, index) {
            $scope.$on('typeahead:' + item, function () {
                $scope.$apply(function () {
                    vm.events.trigger[index] = vm.events.trigger[index] + 1;
                });
            });
        });
    }

    function UseCase4Controller($scope) {
        var vm = this;
        vm.ttOptions = {
            prefetch: '/tests/assets/prefetch.json',
            remote: '/tests/assets/%QUERY.json'
        };
        vm.options = {
            clear: true,
            selectOnAutocomplete: true
        };
        vm.events = {
            names: ['active', 'idle', 'open', 'close', 'change', 'render', 'select', 'autocomplete', 'cursorchange', 'asyncrequest', 'asynccancel', 'asyncreceive'],
            trigger: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        };
        vm.events.names.forEach(function (item, index) {
            $scope.$on('typeahead:' + item, function (ev, o) {
                $scope.$apply(function () {
                    vm.events.trigger[index] = vm.events.trigger[index] + 1;
                });
            });
        });
    }

    function UseCase5Controller($scope) {
        var vm = this;
        vm.ttOptions = {
            prefetch: '/tests/assets/prefetch.json',
            remote: '/tests/assets/%QUERY.json'
        };
        vm.options = {
            emitOnlyIfPresent: false
        };
        vm.events = {
            names: ['active', 'idle', 'open', 'close', 'change', 'render', 'select', 'autocomplete', 'cursorchange', 'asyncrequest', 'asynccancel', 'asyncreceive'],
            trigger: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        };
        var addTrigger = function (index) {
            $scope.$apply(function () {
                vm.events.trigger[index]++;
            });
            //console.log(index,[].slice.call(arguments, 1));
        }
        vm.onactive = function () {
            addTrigger(0);
        };
        vm.onidle = function () {
            addTrigger(1);
        };
        vm.onopen = function () {
            addTrigger(2);
        };
        vm.onclose = function () {
            addTrigger(3);
        };
        vm.onchange = function () {
            addTrigger(4);
        };
        vm.onrender = function () {
            addTrigger(5);
        };
        vm.onselect = function () {
            //console.log([].slice.call(arguments));
            addTrigger(6);
        };
        vm.onautocomplete = function () {
            addTrigger(7);
        };
        vm.oncursorchange = function () {
            addTrigger(8);
        };
        vm.onasyncrequest = function () {
            addTrigger(9);
        };
        vm.onasynccancel = function () {
            addTrigger(10);
        };
        vm.onasyncreceive = function () {
            addTrigger(11);
        };
    }

    function UseCase6Controller($scope) {
        var vm = this;
        vm.ttOptions = {
            prefetch: '/tests/assets/prefetch.json',
            remote: '/tests/assets/%QUERY.json'
        };
        vm.options = {
            //emitOnlyIfPresent: true DEFAULT
        };
        vm.events = {
            names: ['active', 'idle', 'open', 'close', 'change', 'render', 'select', 'autocomplete', 'cursorchange', 'asyncrequest', 'asynccancel', 'asyncreceive'],
            trigger: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        };
        var addTrigger = function (index) {
            $scope.$apply(function () {
                vm.events.trigger[index]++;
            });
            //console.log(index,[].slice.call(arguments, 1));
        }
        vm.onselect = function () {
            addTrigger(6);
        };
        vm.onautocomplete = function () {
            addTrigger(7);
        };
    }

    function UseCase7Controller($scope) {
        var vm = this;
        vm.ttOptions = {
            prefetch: '/tests/assets/prefetch.json',
            remote: '/tests/assets/%QUERY.json'
        };
        vm.options = {
            //emitOnlyIfPresent: true DEFAULT
        };
        vm.events = {
            names: ['active', 'idle', 'open', 'close', 'change', 'render', 'select', 'autocomplete', 'cursorchange', 'asyncrequest', 'asynccancel', 'asyncreceive'],
            trigger: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        };
        var addTrigger = function (index) {
            $scope.$apply(function () {
                vm.events.trigger[index]++;
            });
            //console.log(index, [].slice.call(arguments, 1));
        }
        vm.onselect = function () {
            addTrigger(6);
        };
        $scope.$on('typeahead:autocomplete', function () {
            addTrigger(7);
        });
    }

    function UseCase8Controller($scope) {
        var vm = this;
        vm.ttOptions = {
            prefetch: '/tests/assets/prefetch.json',
            remote: '/tests/assets/%QUERY.json'
        };
        vm.options = {
            clear: true,
            selectOnAutocomplete: true
        };
        vm.events = {
            names: ['active', 'idle', 'open', 'close', 'change', 'render', 'select', 'autocomplete', 'cursorchange', 'asyncrequest', 'asynccancel', 'asyncreceive'],
            trigger: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        };
        var addTrigger = function (index) {
            $scope.$apply(function () {
                vm.events.trigger[index]++;
            });
            //console.log(index,[].slice.call(arguments, 1));
        }
        vm.onselect = function () {
            addTrigger(6);
        };
        vm.onautocomplete = function () {
            addTrigger(7);
        };
    }

    function UseCase9Controller($scope) {
        var vm = this;
        vm.ttOptions = {

        };
        vm.options = {
            useOwnDefaults: false
        };
        vm.events = {
            names: ['active', 'idle', 'open', 'close', 'change', 'render', 'select', 'autocomplete', 'cursorchange', 'asyncrequest', 'asynccancel', 'asyncreceive'],
            trigger: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        };
        var addTrigger = function (index) {
            $scope.$apply(function () {
                vm.events.trigger[index]++;
            });
        }
        vm.ttDatasets = [
            {
                name: 'nba-teams',
                display: 'team',
                source: new Bloodhound({
                    datumTokenizer: Bloodhound.tokenizers.obj.whitespace('team'),
                    queryTokenizer: Bloodhound.tokenizers.whitespace,
                    local: [
                        { "team": "Boston Celtics" },
                        { "team": "Dallas Mavericks" },
                        { "team": "Brooklyn Nets" },
                        { "team": "Houston Rockets" },
                        { "team": "New York Knicks" },
                        { "team": "Memphis Grizzlies" },
                        { "team": "Philadelphia 76ers" },
                        { "team": "New Orleans Hornets" },
                        { "team": "Toronto Raptors" },
                        { "team": "San Antonio Spurs" },
                        { "team": "Chicago Bulls" },
                        { "team": "Denver Nuggets" },
                        { "team": "Cleveland Cavaliers" },
                        { "team": "Minnesota Timberwolves" },
                        { "team": "Detroit Pistons" },
                        { "team": "Portland Trail Blazers" },
                        { "team": "Indiana Pacers" },
                        { "team": "Oklahoma City Thunder" },
                        { "team": "Milwaukee Bucks" },
                        { "team": "Utah Jazz" },
                        { "team": "Atlanta Hawks" },
                        { "team": "Golden State Warriors" },
                        { "team": "Charlotte Bobcats" },
                        { "team": "Los Angeles Clippers" },
                        { "team": "Miami Heat" },
                        { "team": "Los Angeles Lakers" },
                        { "team": "Orlando Magic" },
                        { "team": "Phoenix Suns" },
                        { "team": "Washington Wizards" },
                        { "team": "Sacramento Kings" }
                    ]
                }),
                templates: {header: '<h3 class="league-name">NBA Teams</h3>'}
            },
            {
                name: 'nhl-teams',
                display: 'team',
                source: new Bloodhound({
                    datumTokenizer: Bloodhound.tokenizers.obj.whitespace('team'),
                    queryTokenizer: Bloodhound.tokenizers.whitespace,
                    local: [
                        { "team": "New Jersey Devils" },
                        { "team": "New York Islanders" },
                        { "team": "New York Rangers" },
                        { "team": "Philadelphia Flyers" },
                        { "team": "Pittsburgh Penguins" },
                        { "team": "Chicago Blackhawks" },
                        { "team": "Columbus Blue Jackets" },
                        { "team": "Detroit Red Wings" },
                        { "team": "Nashville Predators" },
                        { "team": "St. Louis Blues" },
                        { "team": "Boston Bruins" },
                        { "team": "Buffalo Sabres" },
                        { "team": "Montreal Canadiens" },
                        { "team": "Ottawa Senators" },
                        { "team": "Toronto Maple Leafs" },
                        { "team": "Calgary Flames" },
                        { "team": "Colorado Avalanche" },
                        { "team": "Edmonton Oilers" },
                        { "team": "Minnesota Wild" },
                        { "team": "Vancouver Canucks" },
                        { "team": "Carolina Hurricanes" },
                        { "team": "Florida Panthers" },
                        { "team": "Tampa Bay Lightning" },
                        { "team": "Washington Capitals" },
                        { "team": "Winnipeg Jets" },
                        { "team": "Anaheim Ducks" },
                        { "team": "Dallas Stars" },
                        { "team": "Los Angeles Kings" },
                        { "team": "Phoenix Coyotes" },
                        { "team": "San Jose Sharks" }
                    ]
                }),
                templates: {header: '<h3 class="league-name">NHL Teams</h3>'}
            }
        ];
        vm.onselect = function () {
            addTrigger(6);
        };
        vm.onautocomplete = function () {
            addTrigger(7);
        };
    }

    function UseCase10Controller($scope) {
        var vm = this;
        vm.bhFunctions = {
            sorter: function compare(a, b) {
                addTrigger(12);
                if (a<b) {
                    return -1;
                }
                if (a>b) {
                    return 1;
                }
                return 0;
            },
            identify: function(obj) {
                //console.log(obj);
                vm.events.trigger[13] === 0 && addTrigger(13);
                return obj.name;
            }
        };
        vm.ttOptions = {
            prefetch: '/tests/assets/prefetch2.json',
            remote: '/tests/assets/%QUERY.json'
        };
        vm.options = {
            clear: true,
            selectOnAutocomplete: true
        };
        vm.events = {
            names: ['active', 'idle', 'open', 'close', 'change', 'render', 'select', 'autocomplete', 'cursorchange', 'asyncrequest', 'asynccancel', 'asyncreceive',
                'sorter', 'identify'],
            trigger: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        };
        var addTrigger = function (index) {
            $scope.$apply(function () {
                vm.events.trigger[index]++;
            });
            //console.log(index,[].slice.call(arguments, 1));
        }
        vm.onselect = function () {
            //console.log(arguments);
            addTrigger(6);
        };
        vm.onautocomplete = function () {
            addTrigger(7);
        };
    }

    function UseCase11Controller($scope, $timeout) {
        var vm = this;
        vm.ttOptions = {
            prefetch: '/tests/assets/prefetch.json',
            remote: '/tests/assets/%QUERY.json'
        };
        vm.options = {
            watchInitEvent: true,
            watchSetValEvent: true,
            clear: false
        };
        vm.events = {
            names: ['active', 'idle', 'open', 'close', 'change', 'render', 'select', 'autocomplete', 'cursorchange', 'asyncrequest', 'asynccancel', 'asyncreceive'],
            trigger: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        };

        $timeout (function(){
            $scope.$emit('angtty:init:usecase11', 'Angola');
        },100);

        $scope.$on('typeahead:select', function () {
            $scope.$apply(function () {
                vm.events.trigger[6] = vm.events.trigger[6] + 1;
                $scope.$emit('angtty:setval:usecase11', 'Angola Angola');

            });
        });

    }

    function UseCase12Controller($scope) {
        var vm = this;
        vm.ttOptions = {
            prefetch: '/tests/assets/prefetch.json',
            remote: '/tests/assets/%QUERY.json'
        };
        vm.options = {

        };
        vm.events = {
            names: ['beforeactive', 'beforeidle', 'beforeopen', 'beforclose', 'beforeselect', 'beforeautocomplete', 'beforecursorchange'],
            trigger: [0, 0, 0, 0, 0, 0, 0]
        };
        var addTrigger = function (index) {
            $scope.$apply(function () {
                vm.events.trigger[index]++;
            });
            //console.log(index, [].slice.call(arguments, 1));
        }
        vm.onbeforeactive = function () {
            addTrigger(0);
        };
        vm.onbeforeidle = function () {
            addTrigger(1);
        };
        vm.onbeforeopen = function () {
            addTrigger(2);
        };
        vm.onbeforeclose = function () {
            addTrigger(3);
        };
        vm.onbeforeselect = function () {
            addTrigger(4);
        };
        vm.onbeforeautocomplete = function () {
            addTrigger(5);
        };
        vm.onbeforecursorchange = function () {
            addTrigger(6);
        };
    }

    function UseCase13Controller($scope) {
        var vm = this;
        vm.ttOptions = {
            prefetch: '/tests/assets/prefetch.json',
            remote: '/tests/assets/%QUERY.json'
        };
        vm.options = {
            setSameListenerEventBefore: true
        };
        vm.events = {
            names: ['open'],
            trigger: [0]
        };
        var addTrigger = function (index) {
            $scope.$apply(function () {
                vm.events.trigger[index]++;
            });
            //console.log(index, [].slice.call(arguments, 1));
        }
        vm.onopen = function () {
            addTrigger(0);
        };
    }

}());

</script>
</body>
</html>
