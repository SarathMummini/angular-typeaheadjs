/*!
 * angular-typeaheadjs v0.5.1
 * https://github.com/borntorun/angular-typeaheadjs
 * Copyright 2015 Jo√£o Carvalho <jmmtcarvalho@gmail.com>; Licensed MIT
 */

!function(){"use strict";function a(a,b,c){function d(a,c,d,g){function h(a,b){b.forEach(function(b){var c=j(b.trigger)?b.trigger:r((b.trigger||b.event).replace("$",""));c!==angular.noop&&a.on(b.event.replace(/\$/g,"typeahead:"),w,c)})}function r(b){var c=a.$eval(a["angtyOn"+b]);return j(c)?function(){c.apply(null,[].slice.call(arguments))}:w.emitOnlyIfPresent===!1||d.$attr.hasOwnProperty("angtyOn"+b)?function(){a.$emit("typeahead:"+b,[].slice.call(arguments))}:angular.noop}function s(a,c,d){function g(){return q=e({highlight:null,hint:null,minLength:null,classNames:null},c),l(d)===!0?void s.resolve(h(a,q,d)):i(d)===!0?void(w.showLog&&n("angty-ttdatasets must be an array.",a[0].id)):j(c)===!1?(w.showLog&&n("One of attributes [remote|prefetch] is required.",a[0].id),void s.reject()):(p=e({sufficient:null,remote:null,prefetch:null},c),p.remote&&(m(p.remote)&&(p.remote={url:p.remote}),p.remote.wildcard=p.remote.wildcard||"%QUERY"),p=angular.extend(p,{initialize:!1,datumTokenizer:Bloodhound.tokenizers.obj.whitespace(c.display),queryTokenizer:Bloodhound.tokenizers.whitespace}),o=e({name:null,limit:null,display:null},c),o.source=r=new Bloodhound(p),void r.initialize().done(function(){s.resolve(h(a,q,o))}).fail(function(){s.reject()}))}function h(a,b,c){return a.typeahead(b,c)}function j(a){var b=i(a.remote)&&(f(a.remote)||k(a.remote)&&f(a.remote.url)),c=i(a.prefetch)&&f(a.prefetch);return c||b}var o,p,q,r,s=b.defer();return setTimeout(function(){g()},0),s.promise}var t,u,v,w,x;if(w=a.$eval(a.angtyOptions),t=a.$eval(a.angtyTtoptions),u=a.$eval(a.angtyTtdatasets),w=angular.extend(angular.copy(p),w||{}),v=angular.extend(w.useOwnDefaults?angular.copy(q):{},t||{}),0===(x=c.find(".typeahead")).length)return void(w.showLog&&n('No element with ".typeahead" found to apply.',d.id));var y=s(x,v,u);y.then(function(a){function b(){a.typeahead("val","")}var c=angular.copy(o);w.selectOnAutocomplete===!0?(c.push({event:"$autocomplete $select",trigger:"select"}),w.clear===!0&&c.push({event:"$autocomplete $select",trigger:b})):(c.push({event:"$select"}),w.clear===!0&&c.push({event:"$select",trigger:b})),h(a,c)},function(a){})}function e(a,b){var c={};for(var d in a)h(b[d])||(c[d]=b[d]);return c}function f(a){return m(a)&&!g(a)}function g(a){return/^\s*$/.test(a)}function h(a){return"undefined"==typeof a}function i(a){return"undefined"!=typeof a}function j(a){return"[object Function]"==={}.toString.call(a)}function k(a){return"object"==typeof a&&null!==a}function l(a){return"[object Array]"===Object.prototype.toString.call(a)}function m(a){return"string"==typeof a}function n(b,c){a.error(b+"([angular-typeaheadjs]:id:"+c+")")}var o=[{event:"$active"},{event:"$idle"},{event:"$open"},{event:"$close"},{event:"$change"},{event:"$render"},{event:"$autocomplete"},{event:"$cursorchange"},{event:"$asyncrequest"},{event:"$asynccancel"},{event:"$asyncreceive"}],p={useOwnDefaults:!0,selectOnAutocomplete:!1,clear:!1,emitOnlyIfPresent:!0,showLog:!1},q={highlight:!0,hint:!0,minLength:3,display:"name",limit:10,sufficient:10},r={restrict:"E",scope:{angtyOptions:"@?",angtyTtoptions:"@?",angtyTtdatasets:"&?",angtyOnactive:"&?",angtyOnidle:"&?",angtyOnopen:"&?",angtyOnclose:"&?",angtyOnchange:"&?",angtyOnrender:"&?",angtyOnselect:"&?",angtyOnautocomplete:"&?",angtyOncursorchange:"&?",angtyOnasyncrequest:"&?",angtyOnasynccancel:"&?",angtyOnasyncreceive:"&?",ngModel:"=?"},link:d};return r}angular.module("angularTypeaheadjs",[]).directive("angularTypeaheadjs",a),a.$inject=["$log","$q","$rootScope"]}();
