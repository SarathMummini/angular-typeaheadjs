/*
 angular-remote-typeaheadjs 2015-04-04 
*/
!function(){"use strict";function a(a){function b(b,c){function d(a,d){n.onselected(d),"true"===b.clearvalue&&c.typeahead("val","")}function e(){var a={};a[b.key]=c.typeahead("val"),n.onclosed(a)}function f(a,b){n.oncursorchanged(b)}function g(){b.remote||l("Attribute [remote] was not defined."),b.datasource||(b.datasource="datasource",b.logonwarn&&k("Attribute [datasource] was not defined. Using default name:'datasource'"));var a=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace(b.key),queryTokenizer:Bloodhound.tokenizers.whitespace,limit:b.limit,remote:b.remote+"%QUERY"});a.initialize().then(function(){c.typeahead({minLength:b.minlensugestion,highlight:!0},{name:b.datasource,displayKey:b.key,source:a.ttAdapter()})})}function h(a,c,d){return(a&&i(a)?i(a()):!1)?function(b){a()(b)}:(b.logonwarn&&k("'"+c+"' is not defined or is not a function."),function(a){b.$emit(d,a)})}function i(a){return"[object Function]"==={}.toString.call(a)}function j(){for(var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split(""),b=Math.floor(10*Math.random())+6,c="",d=0;b>d;d++)c+=a[Math.floor(Math.random()*a.length)];return"artjs-"+c}function k(b){a.warn(b+"([angular-remote-typeaheadjs]:id:"+m+")")}function l(b){a.error(b+"([angular-remote-typeaheadjs]:id:"+m+")")}var m=j(),n={onselected:h(b.onselected,"onselected","typeahead:selected"),onclosed:h(b.onclosed,"onclosed","typeahead:closed"),oncursorchanged:h(b.oncursorchanged,"oncursorchanged","typeahead:cursorchanged")};b.logonwarn="true"===(b.logonwarn||"false"),c.attr("id",m),b.minlensugestion=b.minlensugestion||3,b.key=b.key||"name",b.limit=b.limit||25,g(),b.cssdropdown&&(c[0].parentNode.lastChild.className+=" "+b.cssdropdown),c.on("typeahead:autocompleted",d),c.on("typeahead:selected",d),c.on("typeahead:closed",e),c.on("typeahead:cursorchanged",f),b.$on("$destroy",function(){c.typeahead("destroy")})}var c={restrict:"E",replace:!0,scope:{remote:"@",key:"@?",datasource:"@?",onselected:"&?",onclosed:"&?",oncursorchanged:"&?",clearvalue:"@?",minlensugestion:"@?",limit:"@?",placeholder:"@?",cssinput:"@?",cssdropdown:"@?",model:"=?",logonwarn:"@?"},template:function(){return'<input type="text" ng-model="model" placeholder="{{placeholder}}" class="typeahead {{cssinput}}"/>'},link:b};return c}angular.module("angularRemoteTypeaheadjs",[]).directive("angularRemoteTypeaheadjs",a),a.$inject=["$log"]}();